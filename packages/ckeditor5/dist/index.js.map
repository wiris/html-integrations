{"version":3,"file":"index.js","sources":["../src/integration.js","../src/commands.js","../src/plugin.js"],"sourcesContent":["import IntegrationModel from \"@wiris/mathtype-html-integration-devkit/src/integrationmodel.js\";\r\nimport Util from \"@wiris/mathtype-html-integration-devkit/src/util.js\";\r\nimport Configuration from \"@wiris/mathtype-html-integration-devkit/src/configuration.js\";\r\nimport Latex from \"@wiris/mathtype-html-integration-devkit/src/latex.js\";\r\nimport MathML from \"@wiris/mathtype-html-integration-devkit/src/mathml.js\";\r\nimport Telemeter from \"@wiris/mathtype-html-integration-devkit/src/telemeter.js\";\r\n\r\n/**\r\n * This class represents the MathType integration for CKEditor5.\r\n * @extends {IntegrationModel}\r\n */\r\nexport default class CKEditor5Integration extends IntegrationModel {\r\n  constructor(ckeditorIntegrationModelProperties) {\r\n    const editor = ckeditorIntegrationModelProperties.editorObject;\r\n\r\n    if (typeof editor.config !== \"undefined\" && typeof editor.config.get(\"mathTypeParameters\") !== \"undefined\") {\r\n      ckeditorIntegrationModelProperties.integrationParameters = editor.config.get(\"mathTypeParameters\");\r\n    }\r\n    /**\r\n     * CKEditor5 Integration.\r\n     *\r\n     * @param {integrationModelProperties} integrationModelAttributes\r\n     */\r\n    super(ckeditorIntegrationModelProperties);\r\n\r\n    /**\r\n     * Folder name used for the integration inside CKEditor plugins folder.\r\n     */\r\n    this.integrationFolderName = \"ckeditor_wiris\";\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   * @returns {string} - The CKEditor instance language.\r\n   * @override\r\n   */\r\n  getLanguage() {\r\n    // Returns the CKEDitor instance language taking into account that the language can be an object.\r\n    // Try to get editorParameters.language, fail silently otherwise\r\n    try {\r\n      return this.editorParameters.language;\r\n    } catch (e) {}\r\n    const languageObject = this.editorObject.config.get(\"language\");\r\n    if (languageObject != null) {\r\n      if (typeof languageObject === \"object\") {\r\n        if (Object.prototype.hasOwnProperty.call(languageObject, \"ui\")) {\r\n          return languageObject.ui;\r\n        }\r\n        return this.editorObject.locale.uiLanguage;\r\n      }\r\n      return languageObject;\r\n    }\r\n    return super.getLanguage();\r\n  }\r\n\r\n  /**\r\n   * Adds callbacks to the following CKEditor listeners:\r\n   * - 'focus' - updates the current instance.\r\n   * - 'contentDom' - adds 'doubleclick' callback.\r\n   * - 'doubleclick' - sets to null data.dialog property to avoid modifications for MathType formulas.\r\n   * - 'setData' - parses the data converting MathML into images.\r\n   * - 'afterSetData' - adds an observer to MathType formulas to avoid modifications.\r\n   * - 'getData' - parses the data converting images into selected save mode (MathML by default).\r\n   * - 'mode' - recalculates the active element.\r\n   */\r\n  addEditorListeners() {\r\n    const editor = this.editorObject;\r\n\r\n    if (typeof editor.config.wirislistenersdisabled === \"undefined\" || !editor.config.wirislistenersdisabled) {\r\n      this.checkElement();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks the current container and assign events in case that it doesn't have them.\r\n   * CKEditor replaces several times the element element during its execution,\r\n   * so we must assign the events again to editor element.\r\n   */\r\n  checkElement() {\r\n    const editor = this.editorObject;\r\n    const newElement = editor.sourceElement;\r\n\r\n    // If the element wasn't treated, add the events.\r\n    if (!newElement.wirisActive) {\r\n      this.setTarget(newElement);\r\n      this.addEvents();\r\n      // Set the element as treated\r\n      newElement.wirisActive = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   * @param {HTMLElement} element - HTMLElement target.\r\n   * @param {MouseEvent} event - event which trigger the handler.\r\n   */\r\n  doubleClickHandler(element, event) {\r\n    this.core.editionProperties.dbclick = true;\r\n    if (this.editorObject.isReadOnly === false) {\r\n      if (element.nodeName.toLowerCase() === \"img\") {\r\n        if (Util.containsClass(element, Configuration.get(\"imageClassName\"))) {\r\n          // Some plugins (image2, image) open a dialog on Double-click. On formulas\r\n          // doubleclick event ends here.\r\n          if (typeof event.stopPropagation !== \"undefined\") {\r\n            // old I.E compatibility.\r\n            event.stopPropagation();\r\n          } else {\r\n            event.returnValue = false;\r\n          }\r\n          this.core.getCustomEditors().disable();\r\n          const customEditorAttr = element.getAttribute(Configuration.get(\"imageCustomEditorName\"));\r\n          if (customEditorAttr) {\r\n            this.core.getCustomEditors().enable(customEditorAttr);\r\n          }\r\n          this.core.editionProperties.temporalImage = element;\r\n          this.openExistingFormulaEditor();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @inheritdoc */\r\n  static getCorePath() {\r\n    return null; // TODO\r\n  }\r\n\r\n  /** @inheritdoc */\r\n  callbackFunction() {\r\n    super.callbackFunction();\r\n    this.addEditorListeners();\r\n  }\r\n\r\n  openNewFormulaEditor() {\r\n    // Store the editor selection as it will be lost upon opening the modal\r\n    this.core.editionProperties.selection = this.editorObject.editing.view.document.selection;\r\n\r\n    // Focus on the selected editor when multiple editor instances are present\r\n    WirisPlugin.currentInstance = this;\r\n\r\n    return super.openNewFormulaEditor();\r\n  }\r\n\r\n  /**\r\n   * Replaces old formula with new MathML or inserts it in caret position if new\r\n   * @param {String} mathml MathML to update old one or insert\r\n   * @returns {module:engine/model/element~Element} The model element corresponding to the inserted image\r\n   */\r\n  insertMathml(mathml) {\r\n    // This returns the value returned by the callback function (writer => {...})\r\n    return this.editorObject.model.change((writer) => {\r\n      const core = this.getCore();\r\n      const selection = this.editorObject.model.document.selection;\r\n\r\n      const modelElementNew = writer.createElement(\"mathml\", {\r\n        formula: mathml,\r\n        ...Object.fromEntries(selection.getAttributes()), // To keep the format, such as style and font\r\n      });\r\n\r\n      // Obtain the DOM <span><img ... /></span> object corresponding to the formula\r\n      if (core.editionProperties.isNewElement) {\r\n        // Don't bother inserting anything at all if the MathML is empty.\r\n        if (!mathml) return;\r\n\r\n        const viewSelection =\r\n          this.core.editionProperties.selection || this.editorObject.editing.view.document.selection;\r\n        const modelPosition = this.editorObject.editing.mapper.toModelPosition(viewSelection.getLastPosition());\r\n\r\n        this.editorObject.model.insertObject(modelElementNew, modelPosition);\r\n\r\n        // Remove selection\r\n        if (!viewSelection.isCollapsed) {\r\n          for (const range of viewSelection.getRanges()) {\r\n            writer.remove(this.editorObject.editing.mapper.toModelRange(range));\r\n          }\r\n        }\r\n\r\n        // Set carret after the formula\r\n        const position = this.editorObject.model.createPositionAfter(modelElementNew);\r\n        writer.setSelection(position);\r\n      } else {\r\n        const img = core.editionProperties.temporalImage;\r\n        const viewElement = this.editorObject.editing.view.domConverter.domToView(img).parent;\r\n        const modelElementOld = this.editorObject.editing.mapper.toModelElement(viewElement);\r\n\r\n        // Insert the new <mathml> and remove the old one\r\n        const position = this.editorObject.model.createPositionBefore(modelElementOld);\r\n\r\n        // If the given MathML is empty, don't insert a new formula.\r\n        if (mathml) {\r\n          this.editorObject.model.insertObject(modelElementNew, position);\r\n        }\r\n        writer.remove(modelElementOld);\r\n      }\r\n\r\n      // eslint-disable-next-line consistent-return\r\n      return modelElementNew;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Finds the text node corresponding to given DOM text element.\r\n   * @param {element} viewElement Element to find corresponding text node of.\r\n   * @returns {module:engine/model/text~Text|undefined} Text node corresponding to the given element or undefined if it doesn't exist.\r\n   */\r\n  findText(viewElement) {\r\n    // eslint-disable-line consistent-return\r\n    // mapper always converts text nodes to *new* model elements so we need to convert the text's parents and then come back down\r\n    let pivot = viewElement;\r\n    let element;\r\n    while (!element) {\r\n      element = this.editorObject.editing.mapper.toModelElement(\r\n        this.editorObject.editing.view.domConverter.domToView(pivot),\r\n      );\r\n      pivot = pivot.parentElement;\r\n    }\r\n\r\n    // Navigate through all the subtree under `pivot` in order to find the correct text node\r\n    const range = this.editorObject.model.createRangeIn(element);\r\n    const descendants = Array.from(range.getItems());\r\n    for (const node of descendants) {\r\n      let viewElementData = viewElement.data;\r\n      if (viewElement.nodeType === 3) {\r\n        // Remove invisible white spaces\r\n        viewElementData = viewElementData.replaceAll(String.fromCharCode(8288), \"\");\r\n      }\r\n      if (node.is(\"textProxy\") && node.data === viewElementData.replace(String.fromCharCode(160), \" \")) {\r\n        return node.textNode;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @inheritdoc */\r\n  insertFormula(focusElement, windowTarget, mathml, wirisProperties) {\r\n    // eslint-disable-line no-unused-vars\r\n    const returnObject = {};\r\n\r\n    let mathmlOrigin;\r\n    if (!mathml) {\r\n      this.insertMathml(\"\");\r\n    } else if (this.core.editMode === \"latex\") {\r\n      returnObject.latex = Latex.getLatexFromMathML(mathml);\r\n      returnObject.node = windowTarget.document.createTextNode(`$$${returnObject.latex}$$`);\r\n\r\n      this.editorObject.model.change((writer) => {\r\n        const { latexRange } = this.core.editionProperties;\r\n\r\n        const startNode = this.findText(latexRange.startContainer);\r\n        const endNode = this.findText(latexRange.endContainer);\r\n\r\n        let startPosition = writer.createPositionAt(startNode.parent, startNode.startOffset + latexRange.startOffset);\r\n        let endPosition = writer.createPositionAt(endNode.parent, endNode.startOffset + latexRange.endOffset);\r\n\r\n        let range = writer.createRange(startPosition, endPosition);\r\n\r\n        // When Latex is next to image/formula.\r\n        if (latexRange.startContainer.nodeType === 3 && latexRange.startContainer.previousSibling?.nodeType === 1) {\r\n          // Get the position of the latex to be replaced.\r\n          const latexEdited = `$$${Latex.getLatexFromMathML(\r\n            MathML.safeXmlDecode(this.core.editionProperties.temporalImage.dataset.mathml),\r\n          )}$$`;\r\n          let data = latexRange.startContainer.data;\r\n\r\n          // Remove invisible characters.\r\n          data = data.replaceAll(String.fromCharCode(8288), \"\");\r\n\r\n          // Get to the start of the latex we are editing.\r\n          const offset = data.indexOf(latexEdited);\r\n          const dataOffset = data.substring(offset);\r\n          const second$ = dataOffset.substring(2).indexOf(\"$$\") + 4;\r\n          const substring = dataOffset.substr(0, second$);\r\n          data = data.replace(substring, \"\");\r\n\r\n          if (!data) {\r\n            startPosition = writer.createPositionBefore(startNode);\r\n            range = startNode;\r\n          } else {\r\n            startPosition = startPosition = writer.createPositionAt(startNode.parent, startNode.startOffset + offset);\r\n            endPosition = writer.createPositionAt(endNode.parent, endNode.startOffset + second$ + offset);\r\n            range = writer.createRange(startPosition, endPosition);\r\n          }\r\n        }\r\n\r\n        writer.remove(range);\r\n        writer.insertText(`$$${returnObject.latex}$$`, startNode.getAttributes(), startPosition);\r\n      });\r\n    } else {\r\n      mathmlOrigin = this.core.editionProperties.temporalImage?.dataset.mathml;\r\n      try {\r\n        returnObject.node = this.editorObject.editing.view.domConverter.viewToDom(\r\n          this.editorObject.editing.mapper.toViewElement(this.insertMathml(mathml)),\r\n          windowTarget.document,\r\n        );\r\n      } catch (e) {\r\n        const x = e.toString();\r\n        if (x.includes(\"CKEditorError: Cannot read property 'parent' of undefined\")) {\r\n          this.core.modalDialog.cancelAction();\r\n        }\r\n      }\r\n    }\r\n\r\n    // Build the telemeter payload separated to delete null/undefined entries.\r\n    const payload = {\r\n      mathml_origin: mathmlOrigin ? MathML.safeXmlDecode(mathmlOrigin) : mathmlOrigin,\r\n      mathml: mathml ? MathML.safeXmlDecode(mathml) : mathml,\r\n      elapsed_time: Date.now() - this.core.editionProperties.editionStartTime,\r\n      editor_origin: null, // TODO read formula to find out whether it comes from Oxygen Desktop\r\n      toolbar: this.core.modalDialog.contentManager.toolbar,\r\n      size: mathml?.length,\r\n    };\r\n\r\n    // Remove desired null keys.\r\n    Object.keys(payload).forEach((key) => {\r\n      if (key === \"mathml_origin\" || key === \"editor_origin\") !payload[key] ? delete payload[key] : {};\r\n    });\r\n\r\n    // Call Telemetry service to track the event.\r\n    try {\r\n      Telemeter.telemeter.track(\"INSERTED_FORMULA\", {\r\n        ...payload,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error tracking INSERTED_FORMULA\", error);\r\n    }\r\n\r\n    /* Due to PLUGINS-1329, we add the onChange event to the CK4 insertFormula.\r\n        We probably should add it here as well, but we should look further into how */\r\n    // this.editorObject.fire('change');\r\n\r\n    // Remove temporal image of inserted formula\r\n    this.core.editionProperties.temporalImage = null;\r\n\r\n    return returnObject;\r\n  }\r\n\r\n  /**\r\n   * Function called when the content submits an action.\r\n   */\r\n  notifyWindowClosed() {\r\n    this.editorObject.editing.view.focus();\r\n  }\r\n}\r\n","/* eslint-disable max-classes-per-file */\r\nimport { Command } from \"ckeditor5/src/core.js\";\r\nimport CKEditor5Integration from \"./integration.js\";\r\n\r\n/**\r\n * Command for opening the MathType editor\r\n */\r\nexport class MathTypeCommand extends Command {\r\n  execute(options = {}) {\r\n    // Check we get a valid integration\r\n    // eslint-disable-next-line no-prototype-builtins\r\n    if (!options.hasOwnProperty(\"integration\") || !(options.integration instanceof CKEditor5Integration)) {\r\n      throw 'Must pass a valid CKEditor5Integration instance as attribute \"integration\" of options';\r\n    }\r\n\r\n    // Save the integration instance as a property of the command.\r\n    this.integration = options.integration;\r\n\r\n    // Set custom editor or disable it\r\n    this.setEditor();\r\n\r\n    // Open the editor\r\n    this.openEditor();\r\n  }\r\n\r\n  /**\r\n   * Sets the appropriate custom editor, if any, or disables them.\r\n   */\r\n  setEditor() {\r\n    // It's possible that a custom editor was last used.\r\n    // We need to disable it to avoid wrong behaviors.\r\n    this.integration.core.getCustomEditors().disable();\r\n  }\r\n\r\n  /**\r\n   * Checks whether we are editing an existing formula or a new one and opens the editor.\r\n   */\r\n  openEditor() {\r\n    this.integration.core.editionProperties.dbclick = false;\r\n    const image = this._getSelectedImage();\r\n    if (\r\n      typeof image !== \"undefined\" &&\r\n      image !== null &&\r\n      image.classList.contains(WirisPlugin.Configuration.get(\"imageClassName\"))\r\n    ) {\r\n      this.integration.core.editionProperties.temporalImage = image;\r\n      this.integration.openExistingFormulaEditor();\r\n    } else {\r\n      this.integration.openNewFormulaEditor();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the currently selected formula image\r\n   * @returns {Element} selected image, if any, undefined otherwise\r\n   */\r\n  _getSelectedImage() {\r\n    const { selection } = this.editor.editing.view.document;\r\n\r\n    // If we can not extract the formula, fall back to default behavior.\r\n    if (selection.isCollapsed || selection.rangeCount !== 1) {\r\n      return;\r\n    }\r\n\r\n    // Look for the <span> wrapping the formula and then for the <img/> inside\r\n\r\n    const range = selection.getFirstRange();\r\n\r\n    let image;\r\n\r\n    for (const span of range) {\r\n      if (span.item.name !== \"span\") {\r\n        return;\r\n      }\r\n      image = span.item.getChild(0);\r\n      break;\r\n    }\r\n\r\n    if (!image) {\r\n      return;\r\n    }\r\n\r\n    // eslint-disable-next-line consistent-return\r\n    return this.editor.editing.view.domConverter.mapViewToDom(image);\r\n  }\r\n}\r\n\r\n/**\r\n * Command for opening the ChemType editor\r\n */\r\nexport class ChemTypeCommand extends MathTypeCommand {\r\n  setEditor() {\r\n    this.integration.core.getCustomEditors().enable(\"chemistry\");\r\n  }\r\n}\r\n","// CKEditor imports\r\nimport { Plugin } from \"ckeditor5/src/core.js\";\r\nimport { ButtonView } from \"ckeditor5/src/ui.js\";\r\nimport { ClickObserver, HtmlDataProcessor, XmlDataProcessor, ViewUpcastWriter } from \"ckeditor5/src/engine.js\";\r\nimport { Widget, toWidget, viewToModelPositionOutsideModelElement } from \"ckeditor5/src/widget.js\";\r\n\r\n// MathType API imports\r\nimport IntegrationModel from \"@wiris/mathtype-html-integration-devkit/src/integrationmodel.js\";\r\nimport Core from \"@wiris/mathtype-html-integration-devkit/src/core.src.js\";\r\nimport Parser from \"@wiris/mathtype-html-integration-devkit/src/parser.js\";\r\nimport Util from \"@wiris/mathtype-html-integration-devkit/src/util.js\";\r\nimport Image from \"@wiris/mathtype-html-integration-devkit/src/image.js\";\r\nimport Configuration from \"@wiris/mathtype-html-integration-devkit/src/configuration.js\";\r\nimport Listeners from \"@wiris/mathtype-html-integration-devkit/src/listeners.js\";\r\nimport MathML from \"@wiris/mathtype-html-integration-devkit/src/mathml.js\";\r\nimport Latex from \"@wiris/mathtype-html-integration-devkit/src/latex.js\";\r\nimport StringManager from \"@wiris/mathtype-html-integration-devkit/src/stringmanager.js\";\r\nimport \"@wiris/mathtype-html-integration-devkit/src/md5.js\";\r\n\r\n// Local imports\r\nimport { MathTypeCommand, ChemTypeCommand } from \"./commands.js\";\r\nimport CKEditor5Integration from \"./integration.js\";\r\n\r\nimport mathIcon from \"../theme/icons/ckeditor5-formula.svg\";\r\nimport chemIcon from \"../theme/icons/ckeditor5-chem.svg\";\r\n\r\nimport packageInfo from \"../package.json\";\r\n\r\nexport let currentInstance = null; // eslint-disable-line import/no-mutable-exports\r\n\r\nexport default class MathType extends Plugin {\r\n  static get requires() {\r\n    return [Widget];\r\n  }\r\n\r\n  static get pluginName() {\r\n    return \"MathType\";\r\n  }\r\n\r\n  init() {\r\n    // Create the MathType API Integration object\r\n    const integration = this._addIntegration();\r\n    currentInstance = integration;\r\n\r\n    // Add the MathType and ChemType commands to the editor\r\n    this._addCommands();\r\n\r\n    // Add the buttons for MathType and ChemType\r\n    this._addViews(integration);\r\n\r\n    // Registers the <mathml> element in the schema\r\n    this._addSchema();\r\n\r\n    // Add the downcast and upcast converters\r\n    this._addConverters(integration);\r\n\r\n    // Expose the WirisPlugin variable to the window\r\n    this._exposeWiris();\r\n  }\r\n\r\n  /**\r\n   * Inherited from Plugin class: Executed when CKEditor5 is destroyed\r\n   */\r\n  destroy() {\r\n    // eslint-disable-line class-methods-use-this\r\n    currentInstance?.destroy();\r\n  }\r\n\r\n  /**\r\n   * Create the MathType API Integration object\r\n   * @returns {CKEditor5Integration} the integration object\r\n   */\r\n  _addIntegration() {\r\n    const { editor } = this;\r\n\r\n    /**\r\n     * Integration model constructor attributes.\r\n     * @type {integrationModelProperties}\r\n     */\r\n    const integrationProperties = {};\r\n    integrationProperties.environment = {};\r\n    integrationProperties.environment.editor = \"CKEditor5\";\r\n    integrationProperties.environment.editorVersion = \"5.x\";\r\n    integrationProperties.version = packageInfo.version;\r\n    integrationProperties.editorObject = editor;\r\n    integrationProperties.serviceProviderProperties = {};\r\n    integrationProperties.serviceProviderProperties.URI = \"https://www.wiris.net/demo/plugins/app\";\r\n    integrationProperties.serviceProviderProperties.server = \"java\";\r\n    integrationProperties.target = editor.sourceElement;\r\n    integrationProperties.scriptName = \"bundle.js\";\r\n    integrationProperties.managesLanguage = true;\r\n    // etc\r\n\r\n    // There are platforms like Drupal that initialize CKEditor but they hide or remove the container element.\r\n    // To avoid a wrong behavior, this integration only starts if the workspace container exists.\r\n    let integration;\r\n    if (integrationProperties.target) {\r\n      // Instance of the integration associated to this editor instance\r\n      integration = new CKEditor5Integration(integrationProperties);\r\n      integration.init();\r\n      integration.listeners.fire(\"onTargetReady\", {});\r\n\r\n      integration.checkElement();\r\n\r\n      this.listenTo(\r\n        editor.editing.view.document,\r\n        \"click\",\r\n        (evt, data) => {\r\n          // Is Double-click\r\n          if (data.domEvent.detail === 2) {\r\n            integration.doubleClickHandler(data.domTarget, data.domEvent);\r\n            evt.stop();\r\n          }\r\n        },\r\n        { priority: \"highest\" },\r\n      );\r\n    }\r\n\r\n    return integration;\r\n  }\r\n\r\n  /**\r\n   * Add the MathType and ChemType commands to the editor\r\n   */\r\n  _addCommands() {\r\n    const { editor } = this;\r\n\r\n    // Add command to open the formula editor\r\n    editor.commands.add(\"MathType\", new MathTypeCommand(editor));\r\n\r\n    // Add command to open the chemistry formula editor\r\n    editor.commands.add(\"ChemType\", new ChemTypeCommand(editor));\r\n  }\r\n\r\n  /**\r\n   * Add the buttons for MathType and ChemType\r\n   * @param {CKEditor5Integration} integration the integration object\r\n   */\r\n  _addViews(integration) {\r\n    const { editor } = this;\r\n\r\n    // Check if MathType editor is enabled\r\n    if (Configuration.get(\"editorEnabled\")) {\r\n      // Add button for the formula editor\r\n      editor.ui.componentFactory.add(\"MathType\", (locale) => {\r\n        const view = new ButtonView(locale);\r\n\r\n        // View is enabled iff command is enabled\r\n        view.bind(\"isEnabled\").to(editor.commands.get(\"MathType\"), \"isEnabled\");\r\n        view.set({\r\n          label: StringManager.get(\"insert_math\", integration.getLanguage()),\r\n          icon: mathIcon,\r\n          tooltip: true,\r\n        });\r\n\r\n        // Callback executed once the image is clicked.\r\n        view.on(\"execute\", () => {\r\n          editor.execute(\"MathType\", {\r\n            integration, // Pass integration as parameter\r\n          });\r\n        });\r\n\r\n        return view;\r\n      });\r\n    }\r\n\r\n    // Check if ChemType editor is enabled\r\n    if (Configuration.get(\"chemEnabled\")) {\r\n      // Add button for the chemistry formula editor\r\n      editor.ui.componentFactory.add(\"ChemType\", (locale) => {\r\n        const view = new ButtonView(locale);\r\n\r\n        // View is enabled iff command is enabled\r\n        view.bind(\"isEnabled\").to(editor.commands.get(\"ChemType\"), \"isEnabled\");\r\n\r\n        view.set({\r\n          label: StringManager.get(\"insert_chem\", integration.getLanguage()),\r\n          icon: chemIcon,\r\n          tooltip: true,\r\n        });\r\n\r\n        // Callback executed once the image is clicked.\r\n        view.on(\"execute\", () => {\r\n          editor.execute(\"ChemType\", {\r\n            integration, // Pass integration as parameter\r\n          });\r\n        });\r\n\r\n        return view;\r\n      });\r\n    }\r\n\r\n    // Observer for the Double-click event\r\n    editor.editing.view.addObserver(ClickObserver);\r\n  }\r\n\r\n  /**\r\n   * Registers the <mathml> element in the schema\r\n   */\r\n  _addSchema() {\r\n    const { schema } = this.editor.model;\r\n\r\n    schema.register(\"mathml\", {\r\n      inheritAllFrom: \"$inlineObject\",\r\n      allowAttributes: [\"formula\", \"htmlContent\"],\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Add the downcast and upcast converters\r\n   */\r\n  _addConverters(integration) {\r\n    const { editor } = this;\r\n\r\n    // Editing view -> Model\r\n    editor.conversion.for(\"upcast\").elementToElement({\r\n      view: {\r\n        name: \"span\",\r\n        classes: \"ck-math-widget\",\r\n      },\r\n      model: (viewElement, { writer: modelWriter }) => {\r\n        const formula = MathML.safeXmlDecode(viewElement.getChild(0).getAttribute(\"data-mathml\"));\r\n        return modelWriter.createElement(\"mathml\", {\r\n          formula,\r\n        });\r\n      },\r\n    });\r\n\r\n    // Data view -> Model\r\n    editor.data.upcastDispatcher.on(\"element:math\", (evt, data, conversionApi) => {\r\n      const { consumable, writer } = conversionApi;\r\n      const { viewItem } = data;\r\n\r\n      // When element was already consumed then skip it.\r\n      if (!consumable.test(viewItem, { name: true })) {\r\n        return;\r\n      }\r\n\r\n      // If we encounter any <math> with a LaTeX annotation inside,\r\n      // convert it into a \"$$...$$\" string.\r\n      const isLatex = mathIsLatex(viewItem); // eslint-disable-line no-use-before-define\r\n\r\n      // Get the formula of the <math> (which is all its children).\r\n      const processor = new XmlDataProcessor(editor.editing.view.document);\r\n\r\n      // Only god knows why the following line makes viewItem lose all of its children,\r\n      // so we obtain isLatex before doing this because we need viewItem's children for that.\r\n      const upcastWriter = new ViewUpcastWriter(editor.editing.view.document);\r\n      const viewDocumentFragment = upcastWriter.createDocumentFragment(viewItem.getChildren());\r\n\r\n      // and obtain the attributes of <math> too!\r\n      const mathAttributes = [...viewItem.getAttributes()].map(([key, value]) => ` ${key}=\"${value}\"`).join(\"\");\r\n\r\n      // We process the document fragment\r\n      let formula = processor.toData(viewDocumentFragment) || \"\";\r\n\r\n      // And obtain the complete formula\r\n      formula = Util.htmlSanitize(`<math${mathAttributes}>${formula}</math>`);\r\n\r\n      // Replaces the < & > characters to its HTMLEntity to avoid render issues.\r\n      formula = formula.replaceAll('\"<\"', '\"&lt;\"').replaceAll('\">\"', '\"&gt;\"').replaceAll(\"><<\", \">&lt;<\");\r\n\r\n      /* Model node that contains what's going to actually be inserted. This can be either:\r\n            - A <mathml> element with a formula attribute set to the given formula, or\r\n            - If the original <math> had a LaTeX annotation, then the annotation surrounded by \"$$...$$\" */\r\n      const modelNode = isLatex\r\n        ? writer.createText(Parser.initParse(formula, integration.getLanguage()))\r\n        : writer.createElement(\"mathml\", { formula });\r\n\r\n      // Find allowed parent for element that we are going to insert.\r\n      // If current parent does not allow to insert element but one of the ancestors does\r\n      // then split nodes to allowed parent.\r\n      const splitResult = conversionApi.splitToAllowedParent(modelNode, data.modelCursor);\r\n\r\n      // When there is no split result it means that we can't insert element to model tree, so let's skip it.\r\n      if (!splitResult) {\r\n        return;\r\n      }\r\n\r\n      // Insert element on allowed position.\r\n      conversionApi.writer.insert(modelNode, splitResult.position);\r\n\r\n      // Consume appropriate value from consumable values list.\r\n      consumable.consume(viewItem, { name: true });\r\n\r\n      const parts = conversionApi.getSplitParts(modelNode);\r\n\r\n      // Set conversion result range.\r\n      data.modelRange = writer.createRange(\r\n        conversionApi.writer.createPositionBefore(modelNode),\r\n        conversionApi.writer.createPositionAfter(parts[parts.length - 1]),\r\n      );\r\n\r\n      // Now we need to check where the `modelCursor` should be.\r\n      if (splitResult.cursorParent) {\r\n        // If we split parent to insert our element then we want to continue conversion in the new part of the split parent.\r\n        //\r\n        // before: <allowed><notAllowed>foo[]</notAllowed></allowed>\r\n        // after:  <allowed><notAllowed>foo</notAllowed><converted></converted><notAllowed>[]</notAllowed></allowed>\r\n\r\n        data.modelCursor = conversionApi.writer.createPositionAt(splitResult.cursorParent, 0);\r\n      } else {\r\n        // Otherwise just continue after inserted element.\r\n        data.modelCursor = data.modelRange.end;\r\n      }\r\n    });\r\n\r\n    // Data view -> Model\r\n    editor.data.upcastDispatcher.on(\r\n      \"element:img\",\r\n      (evt, data, conversionApi) => {\r\n        const { consumable, writer } = conversionApi;\r\n        const { viewItem } = data;\r\n\r\n        // Only upcast when is wiris formula\r\n        if (viewItem.getClassNames().next().value !== \"Wirisformula\") {\r\n          return;\r\n        }\r\n\r\n        //  The following code ensures that the element's name, attributes, and classes are consumed.\r\n        // This means that they are marked as handled so that other parts of the system or plugins don't process them again.\r\n\r\n        // Check if we can consume the element name.\r\n        if (!consumable.test(viewItem, { name: true })) {\r\n          return;\r\n        }\r\n\r\n        // Consume the name, attributes, and classes so nothing else processes it.\r\n        consumable.consume(viewItem, { name: true });\r\n        for (const attrName of viewItem.getAttributes()) {\r\n          consumable.consume(viewItem, { attributes: [attrName] });\r\n        }\r\n\r\n        for (const className of viewItem.getClassNames()) {\r\n          consumable.consume(viewItem, { classes: [className] });\r\n        }\r\n\r\n        const mathAttributes = [...viewItem.getAttributes()].map(([key, value]) => ` ${key}=\"${value}\"`).join(\"\");\r\n        const htmlContent = Util.htmlSanitize(`<img${mathAttributes}>`);\r\n\r\n        const modelNode = writer.createElement(\"mathml\", { htmlContent });\r\n\r\n        // Find allowed parent for element that we are going to insert.\r\n        // If current parent does not allow to insert element but one of the ancestors does\r\n        // then split nodes to allowed parent.\r\n        const splitResult = conversionApi.splitToAllowedParent(modelNode, data.modelCursor);\r\n\r\n        // When there is no split result it means that we can't insert element to model tree, so let's skip it.\r\n        if (!splitResult) {\r\n          return;\r\n        }\r\n\r\n        // Insert element on allowed position.\r\n        conversionApi.writer.insert(modelNode, splitResult.position);\r\n\r\n        // Consume appropriate value from consumable values list.\r\n        consumable.consume(viewItem, { name: true });\r\n\r\n        const parts = conversionApi.getSplitParts(modelNode);\r\n\r\n        // Set conversion result range.\r\n        data.modelRange = writer.createRange(\r\n          conversionApi.writer.createPositionBefore(modelNode),\r\n          conversionApi.writer.createPositionAfter(parts[parts.length - 1]),\r\n        );\r\n\r\n        // Now we need to check where the `modelCursor` should be.\r\n        if (splitResult.cursorParent) {\r\n          // If we split parent to insert our element then we want to continue conversion in the new part of the split parent.\r\n          //\r\n          // before: <allowed><notAllowed>foo[]</notAllowed></allowed>\r\n          // after:  <allowed><notAllowed>foo</notAllowed><converted></converted><notAllowed>[]</notAllowed></allowed>\r\n\r\n          data.modelCursor = conversionApi.writer.createPositionAt(splitResult.cursorParent, 0);\r\n        } else {\r\n          // Otherwise just continue after inserted element.\r\n          data.modelCursor = data.modelRange.end;\r\n        }\r\n      },\r\n      // Ensures MathType processes the Wiris formulas before other plugins, preventing conflicts.\r\n      { priority: \"high\" },\r\n    );\r\n\r\n    /**\r\n     * Whether the given view <math> element has a LaTeX annotation element.\r\n     * @param {*} math\r\n     * @returns {bool}\r\n     */\r\n    function mathIsLatex(math) {\r\n      const semantics = math.getChild(0);\r\n      if (!semantics || semantics.name !== \"semantics\") return false;\r\n      for (const child of semantics.getChildren()) {\r\n        if (child.name === \"annotation\" && child.getAttribute(\"encoding\") === \"LaTeX\") {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    function createViewWidget(modelItem, { writer: viewWriter }) {\r\n      const widgetElement = viewWriter.createContainerElement(\"span\", {\r\n        class: \"ck-math-widget\",\r\n      });\r\n\r\n      const mathUIElement = createViewImage(modelItem, { writer: viewWriter }); // eslint-disable-line no-use-before-define\r\n\r\n      if (mathUIElement) {\r\n        viewWriter.insert(viewWriter.createPositionAt(widgetElement, 0), mathUIElement);\r\n      }\r\n\r\n      return toWidget(widgetElement, viewWriter);\r\n    }\r\n\r\n    function createViewImage(modelItem, { writer: viewWriter }) {\r\n      const htmlDataProcessor = new HtmlDataProcessor(viewWriter.document);\r\n\r\n      const formula = modelItem.getAttribute(\"formula\");\r\n      const htmlContent = modelItem.getAttribute(\"htmlContent\");\r\n\r\n      if (!formula && !htmlContent) {\r\n        return null;\r\n      }\r\n\r\n      let imgElement = null;\r\n\r\n      if (htmlContent) {\r\n        imgElement = htmlDataProcessor.toView(htmlContent).getChild(0);\r\n      } else if (formula) {\r\n        const mathString = formula.replaceAll('ref=\"<\"', 'ref=\"&lt;\"');\r\n\r\n        const imgHtml = Parser.initParse(mathString, integration.getLanguage());\r\n        imgElement = htmlDataProcessor.toView(imgHtml).getChild(0);\r\n\r\n        // Add HTML element (<img>) to model\r\n        viewWriter.setAttribute(\"htmlContent\", imgHtml, modelItem);\r\n      }\r\n\r\n      /* Although we use the HtmlDataProcessor to obtain the attributes,\r\n       *  we must create a new EmptyElement which is independent of the\r\n       *  DataProcessor being used by this editor instance\r\n       */\r\n      if (imgElement) {\r\n        return viewWriter.createEmptyElement(\"img\", imgElement.getAttributes(), {\r\n          renderUnsafeAttributes: [\"src\"],\r\n        });\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    // Model -> Editing view\r\n    editor.conversion.for(\"editingDowncast\").elementToElement({\r\n      model: \"mathml\",\r\n      view: createViewWidget,\r\n    });\r\n\r\n    // Model -> Data view\r\n    editor.conversion.for(\"dataDowncast\").elementToElement({\r\n      model: \"mathml\",\r\n      view: createDataString, // eslint-disable-line no-use-before-define\r\n    });\r\n\r\n    /**\r\n     * Makes a copy of the given view node.\r\n     * @param {module:engine/view/node~Node} sourceNode Node to copy.\r\n     * @returns {module:engine/view/node~Node} Copy of the node.\r\n     */\r\n    function clone(viewWriter, sourceNode) {\r\n      if (sourceNode.is(\"text\")) {\r\n        return viewWriter.createText(sourceNode.data);\r\n      }\r\n      if (sourceNode.is(\"element\")) {\r\n        if (sourceNode.is(\"emptyElement\")) {\r\n          return viewWriter.createEmptyElement(sourceNode.name, sourceNode.getAttributes());\r\n        }\r\n        const element = viewWriter.createContainerElement(sourceNode.name, sourceNode.getAttributes());\r\n        for (const child of sourceNode.getChildren()) {\r\n          viewWriter.insert(viewWriter.createPositionAt(element, \"end\"), clone(viewWriter, child));\r\n        }\r\n        return element;\r\n      }\r\n\r\n      throw new Exception(\"Given node has unsupported type.\"); // eslint-disable-line no-undef\r\n    }\r\n\r\n    function createDataString(modelItem, { writer: viewWriter }) {\r\n      const htmlDataProcessor = new HtmlDataProcessor(viewWriter.document);\r\n\r\n      // Load img element\r\n      const mathString =\r\n        modelItem.getAttribute(\"htmlContent\") || Parser.endParseSaveMode(modelItem.getAttribute(\"formula\"));\r\n\r\n      const sourceMathElement = htmlDataProcessor.toView(mathString).getChild(0);\r\n\r\n      return clone(viewWriter, sourceMathElement);\r\n    }\r\n\r\n    // This stops the view selection getting into the <span>s and messing up caret movement\r\n    editor.editing.mapper.on(\r\n      \"viewToModelPosition\",\r\n      viewToModelPositionOutsideModelElement(editor.model, (viewElement) => viewElement.hasClass(\"ck-math-widget\")),\r\n    );\r\n\r\n    // Keep a reference to the original get and set function.\r\n    const { get, set } = editor.data;\r\n\r\n    /**\r\n     * Hack to transform $$latex$$ into <math> in editor.getData()'s output.\r\n     */\r\n    editor.data.on(\r\n      \"get\",\r\n      (e) => {\r\n        const output = e.return;\r\n        const parsedResult = Parser.endParse(output);\r\n\r\n        // Cleans all the semantics tag for safexml\r\n        // including the handwritten data points\r\n        e.return = MathML.removeSafeXMLSemantics(parsedResult);\r\n      },\r\n      { priority: \"low\" },\r\n    );\r\n\r\n    /**\r\n     * Hack to transform <math> with LaTeX into $$LaTeX$$ and formula images in editor.setData().\r\n     */\r\n    editor.data.on(\r\n      \"set\",\r\n      (e, args) => {\r\n        // Retrieve the data to be set on the CKEditor.\r\n        let modifiedData = args[0];\r\n        // Regex to find all mathml formulas.\r\n        const regexp = /(<img\\b[^>]*>)|(<math(.*?)<\\/math>)/gm;\r\n        const formulas = [];\r\n        let formula;\r\n\r\n        // Both data.set from the source plugin and console command are taken into account as the data received is MathML or an image containing the MathML.\r\n        while ((formula = regexp.exec(modifiedData)) !== null) {\r\n          formulas.push(formula[0]);\r\n        }\r\n\r\n        // Loop to find LaTeX and formula images and replace the MathML for the both.\r\n        formulas.forEach((formula) => {\r\n          if (formula.includes('encoding=\"LaTeX\"')) {\r\n            // LaTeX found.\r\n            const latex = `$$$${Latex.getLatexFromMathML(formula)}$$$`; // We add $$$ instead of $$ because the replace function ignores one $.\r\n            modifiedData = modifiedData.replace(formula, latex);\r\n          } else if (formula.includes(\"<img\")) {\r\n            // If we found a formula image, we should find MathML data, and then substitute the entire image.\r\n            const regexp = /«math\\b[^»]*»(.*?)«\\/math»/g;\r\n            const safexml = formula.match(regexp);\r\n            if (safexml !== null) {\r\n              const decodeXML = MathML.safeXmlDecode(safexml[0]);\r\n              modifiedData = modifiedData.replace(formula, decodeXML);\r\n            }\r\n          }\r\n        });\r\n\r\n        args[0] = modifiedData;\r\n      },\r\n      { priority: \"high\" },\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Expose the WirisPlugin variable to the window\r\n   */\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _exposeWiris() {\r\n    window.WirisPlugin = {\r\n      Core,\r\n      Parser,\r\n      Image,\r\n      MathML,\r\n      Util,\r\n      Configuration,\r\n      Listeners,\r\n      IntegrationModel,\r\n      currentInstance,\r\n      Latex,\r\n    };\r\n  }\r\n}\r\n"],"names":["CKEditor5Integration","IntegrationModel","ckeditorIntegrationModelProperties","editor","editorObject","config","get","integrationParameters","integrationFolderName","getLanguage","editorParameters","language","e","languageObject","Object","prototype","hasOwnProperty","call","ui","locale","uiLanguage","addEditorListeners","wirislistenersdisabled","checkElement","newElement","sourceElement","wirisActive","setTarget","addEvents","doubleClickHandler","element","event","core","editionProperties","dbclick","isReadOnly","nodeName","toLowerCase","Util","containsClass","Configuration","stopPropagation","returnValue","getCustomEditors","disable","customEditorAttr","getAttribute","enable","temporalImage","openExistingFormulaEditor","getCorePath","callbackFunction","openNewFormulaEditor","selection","editing","view","document","WirisPlugin","currentInstance","insertMathml","mathml","model","change","writer","getCore","modelElementNew","createElement","formula","fromEntries","getAttributes","isNewElement","viewSelection","modelPosition","mapper","toModelPosition","getLastPosition","insertObject","isCollapsed","range","getRanges","remove","toModelRange","position","createPositionAfter","setSelection","img","viewElement","domConverter","domToView","parent","modelElementOld","toModelElement","createPositionBefore","findText","pivot","parentElement","createRangeIn","descendants","Array","from","getItems","node","viewElementData","data","nodeType","replaceAll","String","fromCharCode","is","replace","textNode","insertFormula","focusElement","windowTarget","wirisProperties","returnObject","mathmlOrigin","editMode","latex","Latex","getLatexFromMathML","createTextNode","latexRange","startNode","startContainer","endNode","endContainer","startPosition","createPositionAt","startOffset","endPosition","endOffset","createRange","previousSibling","latexEdited","MathML","safeXmlDecode","dataset","offset","indexOf","dataOffset","substring","second$","substr","insertText","viewToDom","toViewElement","x","toString","includes","modalDialog","cancelAction","payload","mathml_origin","elapsed_time","Date","now","editionStartTime","editor_origin","toolbar","contentManager","size","length","keys","forEach","key","Telemeter","telemeter","track","error","console","notifyWindowClosed","focus","MathTypeCommand","Command","execute","options","integration","setEditor","openEditor","image","_getSelectedImage","classList","contains","rangeCount","getFirstRange","span","item","name","getChild","mapViewToDom","ChemTypeCommand","MathType","Plugin","requires","Widget","pluginName","init","_addIntegration","_addCommands","_addViews","_addSchema","_addConverters","_exposeWiris","destroy","integrationProperties","environment","editorVersion","version","packageInfo","serviceProviderProperties","URI","server","target","scriptName","managesLanguage","listeners","fire","listenTo","evt","domEvent","detail","domTarget","stop","priority","commands","add","componentFactory","ButtonView","bind","to","set","label","StringManager","icon","mathIcon","tooltip","on","chemIcon","addObserver","ClickObserver","schema","register","inheritAllFrom","allowAttributes","conversion","for","elementToElement","classes","modelWriter","upcastDispatcher","conversionApi","consumable","viewItem","test","isLatex","mathIsLatex","processor","XmlDataProcessor","upcastWriter","ViewUpcastWriter","viewDocumentFragment","createDocumentFragment","getChildren","mathAttributes","map","value","join","toData","htmlSanitize","modelNode","createText","Parser","initParse","splitResult","splitToAllowedParent","modelCursor","insert","consume","parts","getSplitParts","modelRange","cursorParent","end","getClassNames","next","attrName","attributes","className","htmlContent","math","semantics","child","createViewWidget","modelItem","viewWriter","widgetElement","createContainerElement","class","mathUIElement","createViewImage","toWidget","htmlDataProcessor","HtmlDataProcessor","imgElement","toView","mathString","imgHtml","setAttribute","createEmptyElement","renderUnsafeAttributes","createDataString","clone","sourceNode","Exception","endParseSaveMode","sourceMathElement","viewToModelPositionOutsideModelElement","hasClass","output","return","parsedResult","endParse","removeSafeXMLSemantics","args","modifiedData","regexp","formulas","exec","push","safexml","match","decodeXML","window","Core","Image","Listeners"],"mappings":"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"}